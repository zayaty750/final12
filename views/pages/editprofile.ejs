




<!DOCTYPE html>
<html lang="en">
<head>
  <%- include("../partials/Head.ejs") %>
   

  <!-- Font Awesome -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
rel="stylesheet"
/>
<!-- Google Fonts -->
<link
href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
rel="stylesheet"
/>
<!-- MDB -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.1/mdb.min.css"
rel="stylesheet"
/>
 
   <style>
        .alert {
            display: none;
        }
    </style>
 
</head>
<body class="bg-light">
  <%- include("../partials/Nav.ejs") %>
  <div class="container" >
    <div class="row d-flex justify-content-center shadow ">
      <div class="col-md-10- mt-5 pt-5">
        <div class="row z-depth-3 ">
          <div class="col-sm-4 bg-info rounded-left ">
            <div class="card-block text-center text-white">
              <i class="fas fa-user-tie fa-7x mt-5"></i>
<h2 class="font-weigh-bold mt-4">Blankoo</h2>
<p>welcome to our website</p>
<i class="far fa-edit fa-2x mt-4"></i>

            </div>
          </div>
          <div class="col-sm-8 bg-white rounded-right" >
            <h3 class="mt-3 text-center"> Edit Your Informations</h3>

            <hr class="badge-primary mt-10 w-100">  
          <div class="row">
 


 
  <div class="card-body">
      <div class="mb-3 p-3">
          <label class="small mb-1 p-1" for="inputUsername">New Username </label>
          <input class="form-control" name="name" type="text" value="<%= user.username%>" id="username">
      </div>
      <div class="mb-3 p-3">
        <label class="small mb-1" for="inputEmailAddress">New Email Address</label>
        <input class="form-control" id="inputEmailAddress" type="email" placeholder="name@gmail.com"
            name="email" value="<%= user.email %>" id="email">
    </div>

    <div class="col-md-6 p-3">
      <label class="small mb-1" for="inputpassword">Your New Password</label>
      <input class="form-control" id="inputpassword" type="password" name="password"
      value="<%= user.password %>" name="password" id="password">
  </div>
  <!-- <div class="col-md-6 p-3">  <a class="btn btn-primary"  id="editBtn"> Update data</a> -->
    

    <button class="btn btn-primary" id="editBtn">update</button>
        <div class="alert alert-success alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            your data updated successfully...
        </div>


  </div>
  </div>

          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
 
  <div class="mb-3 p-3">
  <%- include("../partials/Top_Function.ejs") %>
  <%- include("../partials/Footer.ejs") %>
</div>
<script>
   $(document).ready(function() {
            $('#editBtn').click(function() {
              console.log('Edit button clicked');
                $.ajax({
                    url: `/user/editprofile/<%=user._id%>`,
                    method: 'PATCH',
                    data: {
                      username: $('#username').val(),
                      email: $('#email').val(),
                      password: $('#password').val(),
                    },
    
                    success: function(response) {
                        // Reload the page to show updated product list
                        window.location.reload();
                    },
                    error: function(err) {
                        console.log(err);
                    }
                });
            });
        });

</script>
<script>
  $(document).ready(function () {
      $('button').click(function () {
          $('.alert').show()
      })
  });
</script>
 <!-- end -->
 <%- include("../partials/Top_Function.ejs") %>
</body>
</html>

 